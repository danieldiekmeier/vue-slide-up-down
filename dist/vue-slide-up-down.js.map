{"version":3,"file":"vue-slide-up-down.js","sources":["../src/slide-up-down.js"],"sourcesContent":["export default {\n  name: 'SlideUpDown',\n\n  props: {\n    active: Boolean,\n    timingFunction: {\n      type: String,\n      default: 'ease',\n    },\n    appear: {\n      type: Boolean,\n      default: true,\n    },\n    duration: {\n      type: Number,\n      default: 500\n    }\n  },\n\n  data: () => ({\n    appeared: false,\n    maxHeight: 0,\n    offsetHeight: 0\n  }),\n\n  render (h) {\n    return h(\n      'div',\n      {\n        style: this.style,\n        ref: 'container'\n      },\n      this.$slots.default\n    )\n  },\n  mounted () {\n    this.render()\n\n    window.addEventListener('resize', this.render)\n    \n    // wait (next-tick) till view has been rendered.\n    setTimeout(() => {\n      this.appeared = true;\n    }, 0);\n  },\n  destroyed () {\n    window.removeEventListener('resize', this.render)\n  },\n\n  watch: {\n    active () {\n      this.render()\n    }\n  },\n\n  computed: {\n    style () {\n      return {\n        overflow: 'hidden',\n        'transition-property': (this.appear || this.appeared) ? 'all' : 'none',\n        height: this.maxHeight + 'px',\n        'transition-duration': this.duration + 'ms',\n        'transition-timing-function': this.timingFunction\n      }\n    }\n  },\n\n  methods: {\n    render () {\n      const { container } = this.$refs\n\n      if (this.active) {\n        const style = container.getAttribute('style')\n        container.removeAttribute('style')\n        this.maxHeight = container.offsetHeight\n        container.setAttribute('style', style)\n\n        // call this explicitely to force a new layout\n        this.offsetHeight = container.offsetHeight\n      } else {\n        this.maxHeight = 0\n      }\n    }\n  }\n}"],"names":["name","props","active","Boolean","timingFunction","type","String","default","appear","duration","Number","data","appeared","maxHeight","offsetHeight","render","h","style","this","ref","$slots","mounted","window","addEventListener","setTimeout","destroyed","removeEventListener","watch","computed","overflow","transition-property","height","transition-duration","transition-timing-function","methods","container","$refs","const","getAttribute","removeAttribute","setAttribute"],"mappings":"AAAA,OACEA,KAAM,cAENC,OACEC,OAAQC,QACRC,gBACEC,KAAMC,OACNC,QAAS,QAEXC,QACEH,KAAMF,QACNI,SAAS,GAEXE,UACEJ,KAAMK,OACNH,QAAS,MAIbI,uBACEC,UAAU,EACVC,UAAW,EACXC,aAAc,IAGhBC,gBAAQC,GACN,OAAOA,EACL,OAEEC,MAAOC,KAAKD,MACZE,IAAK,aAEPD,KAAKE,OAAOb,UAGhBc,8BACEH,KAAKH,SAELO,OAAOC,iBAAiB,SAAUL,KAAKH,QAGvCS,sBACEN,EAAKN,UAAW,GACf,IAELa,qBACEH,OAAOI,oBAAoB,SAAUR,KAAKH,SAG5CY,OACEzB,kBACEgB,KAAKH,WAITa,UACEX,iBACE,OACEY,SAAU,SACVC,sBAAwBZ,KAAKV,QAAUU,KAAKN,SAAY,MAAQ,OAChEmB,OAAQb,KAAKL,UAAY,KACzBmB,sBAAuBd,KAAKT,SAAW,KACvCwB,6BAA8Bf,KAAKd,kBAKzC8B,SACEnB,kBACE,IAAQoB,EAAcjB,KAAKkB,gBAE3B,GAAIlB,KAAKhB,OAAQ,CACfmC,IAAMpB,EAAQkB,EAAUG,aAAa,SACrCH,EAAUI,gBAAgB,SAC1BrB,KAAKL,UAAYsB,EAAUrB,aAC3BqB,EAAUK,aAAa,QAASvB,GAGhCC,KAAKJ,aAAeqB,EAAUrB,kBAE9BI,KAAKL,UAAY"}